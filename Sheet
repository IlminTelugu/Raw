<!-- Name popup -->
<div id="namePopup" style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.6); display: flex; align-items: center; justify-content: center; z-index: 9999;">
  <div style="background: white; color: black; padding: 20px; border-radius: 8px; text-align: center; max-width: 300px; width: 90%;">
    <h3>Enter your name</h3>
    <input type="text" id="userName" placeholder="Your name" style="width: 90%; padding: 8px; margin-bottom: 10px;" />
    <br>
    <button onclick="submitName()" style="padding: 8px 16px; background: #0057b8; color: white; border: none; border-radius: 5px;">Submit</button>
  </div>
</div>

<script>
  const WEB_APP_URL = 'YOUR_WEB_APP_URL'; // Replace with your actual Google Apps Script Web App URL

  function submitName() {
    const name = document.getElementById("userName").value.trim();
    if (!name) {
      alert("Please enter your name.");
      return;
    }

    fetch(WEB_APP_URL, {
      method: 'POST',
      body: new URLSearchParams({ name })
    })
    .then(res => res.text())
    .then(() => {
      document.getElementById("namePopup").style.display = "none";
    })
    .catch(err => {
      console.error(err);
      alert("Failed to send name.");
    });
  }
</script>
function doPost(e) {
  var sheet = SpreadsheetApp.openById('YOUR_SPREADSHEET_ID').getSheetByName('Sheet1');
  var name = e.parameter.name;
  sheet.appendRow([new Date(), name]);
  return ContentService.createTextOutput("Success");
}
